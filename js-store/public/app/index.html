<html>
<head>
    <title>JS-Store</title>
    <meta name="viewport" content="initial-scale=1.0, width=device-width"/>
    <script src="/public/jquery/jquery-1.9.1.js" type="text/javascript"></script>
    <script src="/public/jquery/jquery.json-2.4.js" type="text/javascript"></script>
    <script src="/public/handlebars/handlebars.js" type="text/javascript"></script>
    <script src="/public/ember/ember-1.0.0-rc.1.js" type="text/javascript"></script>
    <script type="text/javascript" charset="utf-8" src="/public/api/rhoapi-modules.js"></script>

    <link href="/public/bootstrap/css/bootstrap.css" rel="stylesheet" media="screen">
    <script src="/public/bootstrap/js/bootstrap.js"></script>

    <link href="/public/store.css" rel="stylesheet" media="screen">

    <script src="script.js" type="text/javascript"></script>
    <script src="customer.js" type="text/javascript"></script>
    <script src="product.js" type="text/javascript"></script>


    <script type="text/x-handlebars" data-template-name="application">
        <div>
            {{outlet}}
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="initial">
        <div class="titleBar">Store</div>
        <div>
            <button {{action goLogin}} class="btn btn-primary">Login</button>
        </div>
    </script>

    <script type="text/x-handlebars" data-template-name="login">
        <div class="titleBar">Login</div>
        {{#view App.LoginFormView}}
        <div class="control-group">
            <label class="control-label">
                Login:
            </label>
            <div class="controls">
                {{view Ember.TextField valueBinding="view.login"}}
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">
                Password:
            </label>
            <div class="controls">
                {{view Ember.TextField type="password" valueBinding="view.password"}}
            </div>
        </div>
        <div class="control-group">
            <div class="controls">
                <button class="btn btn-primary">Login</button>
            </div>
        <div>
        {{/view}}
    </script>


    <script type="text/x-handlebars" data-template-name="home">
        <div class="titleBar">Store</div>
        <button {{action doLogout}} class="btn btn-mini">Logout</button>

        <ul>
            <li>{{#linkTo products}}Products{{/linkTo}}</li>
            <li>{{#linkTo customers}}Customers{{/linkTo}}</li>
        </ul>
    </script>

    <script type="text/x-handlebars" data-template-name="products">
        <div class="titleBar">Products</div>
        <button {{ action goHome }} class="btn btn-mini">Home</button>
        <button {{ action new }} class="btn btn-mini">New</button>
        {{#each product in products }}
        <div>{{#linkTo product product }} {{ product.name }} {{/linkTo}}</div>
        {{/each}}
    </script>

    <script type="text/x-handlebars" data-template-name="product/index">
        <div class="titleBar">Products</div>
        <button {{ action goHome }} class="btn btn-mini">Home</button>
        <button {{ action new }} class="btn btn-mini">New</button>
        {{#each product in products }}
        <div>{{#linkTo product product }} {{ product.name }} {{/linkTo}}</div>
        {{/each}}
    </script>

    <script type="text/x-handlebars" data-template-name="product/new">
        <div class="titleBar">New product</div>
    </script>

    <script type="text/x-handlebars" data-template-name="customers">
        <div class="titleBar">Customers</div>
        <button
        {{action goHome}}>Home</button>

        <div> Customers count: {{ customers.length }}</div>
        {{#each customer in customers }}
        <div>{{#linkTo customer customer }} {{ customer.name }} {{/linkTo}}</div>
        {{/each}}
    </script>
</head>
<body>
</body>
</html>
